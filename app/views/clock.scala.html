@import net.wa9nnn.rc210.data.clock.Clock
@import net.wa9nnn.rc210.data.field.{FieldBoolean, RMD}
@import net.wa9nnn.rc210.ui.Tabs
@import views.html.helper.form
@(clock: Clock)

@tabbedmain(Tabs.clockTab) {
    @defining(clock.key) { key =>
        <div class="container">
            @form(action = routes.ClockController.save()) {
                <input type="hidden" name="key" value="@clock.key.toString">
                <table class="table table-bordered table-sm">
                    <tr>
                        <td class="text-end">Say 24 Hour</td>
                        <td>
                            @Html(FieldBoolean(clock.say24Hours).toHtmlField( RMD(name = "say24Hours")(key)))
                        </td>
                    </tr>
                    <tr>
                        <td class="text-end">Enable DST</td>
                        <td>
                            @Html(FieldBoolean(clock.enableDST).toHtmlField( RMD(name = "enableDST")(key)))
                        </td>
                    </tr>
                    <tr>
                        <td class="text-end">DST Schedule</td>
                        <td>
                            <table>
                                <tr>
                                    <td>Starts on the </td>
                                    <td>@Html(Clock.startOcurrenceSelect.toHtml(clock.startDST.occurance)(key))</td>
                                    <td rowspan="2">  Sunday of</td>
                                    <td>@Html(Clock.startMonthOfYearDSTSelect.toHtml(clock.startDST.monthOfYearDST)(key))</td>
                                    <td rowspan="2">
                                        at
                                    </td>
                                    <td rowspan="2">
                                        <input type="number" name="hourDST" id="hourDST" min="0" max="23" class="form-control" value="@clock.hourDST" >
                                    </td>
                                    <td rowspan="2">
                                        Hours
                                    </td>
                                </tr>
                                <tr>
                                    <td>Ends on the </td>
                                    <td>@Html(Clock.endOcurrenceSelect.toHtml(clock.endDST.occurance)(key))</td>
                                    <td>@Html(Clock.endMonthOfYearDSTSelect.toHtml(clock.endDST.monthOfYearDST)(key))</td>
                                </tr>
                            </table>

                        </td>
                    </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>
                        <input type="submit" class="btn btn-primary" name="save" value="Save">

                    </td>
                </tr>
                </table>

                <a href="@routes.ClockController.setClock()"><button class="btn btn-primary">Set Clock Now</button></a>
            </div>
    }

    }
}
